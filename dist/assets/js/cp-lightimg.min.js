$((function(){$.fn.cpLightimg=function(){var i=this[0],t=function(){$("div.cp-lightoverlay").removeClass("cp-lightoverlay-in"),$("img.cp-lightimg").css("transform",""),setTimeout((function(){$("div.cp-lightoverlay").remove(),$("img.cp-lightimg").removeClass("cp-lightimg")}),300),$(window).unbind("scroll",t)};if($(window).scroll(t),$(i).hasClass("cp-lightimg"))t();else{var a,e,l={imgMaxWidth:i.naturalWidth>$("body").width()-40?$("body").width()-40:i.naturalWidth,imgMaxHeight:i.naturalHeight>window.innerHeight-40?window.innerHeight-40:i.naturalHeight,screenleftStart:$("body").width()/2-i.width/2-$(i).offset().left,screentopStart:window.innerHeight/2-i.height/2-$(i).offset().top+$("html").scrollTop()},h=l.imgMaxWidth/i.width,n=l.imgMaxHeight/i.height;if(i.naturalWidth>i.naturalHeight)n=(a=l.imgMaxWidth/i.naturalWidth*i.naturalHeight)/i.height;else if(h=(e=l.imgMaxHeight/i.naturalHeight*i.naturalWidth)/i.width,e>l.imgMaxWidth)n=(a=l.imgMaxWidth/i.naturalWidth*i.naturalHeight)/i.height,h=(e=a/i.naturalHeight*i.naturalWidth)/i.width;$(i).addClass("cp-lightimg").css("transform",`translate(${l.screenleftStart}px, ${l.screentopStart}px) scale(${h}, ${n})`);var r=$('<div class="cp-lightoverlay"><div>');$("body").append(r),setTimeout((function(){r.addClass("cp-lightoverlay-in"),r.click(t)}),10)}return this},$("<style>img.cp-lightimg {position: relative;transition: all 300ms;z-index: 1001;box-shadow: rgba(0, 0, 0, 0.2) 2px 2px 3px;}div.cp-lightoverlay {position: fixed;background: rgba(0, 0, 0, 0.7);top: 0;left: 0;right: 0;bottom: 0;z-index: 1000;opacity: 0;transition: all 300ms;}div.cp-lightoverlay.cp-lightoverlay-in {opacity: 1;}</style>").appendTo("head")}));