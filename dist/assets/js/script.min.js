document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll(".header"),t=document.createElement("button");const o=window.matchMedia("(min-width: 1230px)");function n(o){if(o.matches){console.log("Media Query Matched!"),e.forEach((e,t)=>{0!=t&&(e.style.display="flex",console.log("hello"))}),new fullpage("#fullpage",{navigation:!0,navigationPosition:"right",autoScrolling:!0,scrollOverflow:!0,fitToSection:!0,touchSensitivity:100,bigSectionsDestination:"top",onLeave:function(e,t,o,n){document.querySelectorAll(".fp-scroller").forEach((e,t)=>{e.style.transform="translate(0px, 0px) translateZ(0px)"})}});let o=document.querySelector(".fp-right");t.className="page-up",t.innerHTML="НАВЕРХ";let n=document.createElement("div");n.className="pagination-page",n.innerHTML='<span class="pagination-page--active">1</span><span class=pagination-page--all>/9</span> ',o.append(n),o.append(t);document.querySelector(".page-up").addEventListener("click",(function(e){fullpage_api.moveTo(1)}));let l=document.querySelectorAll(".section"),s=document.querySelector(".pagination-page--active");document.body.addEventListener("wheel",(function(e){l.forEach((e,t)=>{e.classList.contains("active")&&(s.innerHTML=fullpage_api.getActiveSection().index+1)})}));document.querySelectorAll(".fp-sr-only");let c=fullpage_api.getActiveSection().index;console.log(c),document.querySelector(".fp-right").addEventListener("click",(function(e){s.innerHTML=fullpage_api.getActiveSection().index+1}))}}o.addListener(n),n(o);const l=window.matchMedia("(max-width: 1230px)");function s(e){if(e.matches){console.log("Media Query Matched!"),document.querySelectorAll(".header").forEach((e,t)=>{0!=t&&(e.style.display="none",console.log("hello"))}),fullpage_api.destroy("all")}}l.addListener(s),s(l);const c=document.getElementById("leave-request"),a=document.querySelector(".popup__block"),i=document.querySelector(".popup__close"),r=document.querySelector(".popup");document.body;let p=document.querySelector(".fp-right");window.onclick=function(e){if(e.target==r){fullpage_api.setAllowScrolling(!0),p.classList.remove("dsp-n"),console.log(r),a.classList.remove("popup__block--open"),r.classList.remove("popup--open");const e=document.body,t=e.style.top;e.style.top="",e.classList.remove("stop-scroll"),window.scrollTo(0,-1*parseInt(t||"0"))}},c.addEventListener("click",()=>{fullpage_api.setAllowScrolling(!1),p.classList.add("dsp-n"),a.classList.add("popup__block--open"),r.classList.add("popup--open");const e=document.documentElement.style.getPropertyValue("--scroll-y"),t=document.body;t.style.top="-"+e,t.classList.add("stop-scroll"),i.addEventListener("click",()=>{fullpage_api.setAllowScrolling(!0),a.classList.remove("popup__block--open"),p.classList.remove("dsp-n"),r.classList.remove("popup--open");const e=document.body,t=e.style.top;e.style.top="",e.classList.remove("stop-scroll"),window.scrollTo(0,-1*parseInt(t||"0"))})}),window.addEventListener("scroll",()=>{document.documentElement.style.setProperty("--scroll-y",window.scrollY+"px")});let d=document.querySelectorAll(".list-item"),u=document.querySelectorAll(".description-item");d.forEach((e,t)=>{e.addEventListener("click",()=>{u.forEach((e,t)=>{e.classList.remove("dsp-f")}),u[t].classList.add("dsp-f")})});let m=document.querySelector(".review-next"),g=document.querySelector(".review-prev");m.addEventListener("click",()=>{swiper.slideNext()}),g.addEventListener("click",()=>{swiper.slidePrev()});const y=document.querySelectorAll(".personal-data__input");document.getElementById("user-name"),document.getElementById("phone-number"),document.getElementById("street"),document.getElementById("home"),document.getElementById("apartment");function v(e){e.classList.contains("personal-data__input-succsess")&&e.classList.remove("personal-data__input-succsess"),e.classList.add("personal-data__input-error")}function f(e){e.classList.contains("personal-data__input-error")&&e.classList.remove("personal-data__input-error"),e.classList.add("personal-data__input-succsess")}y.forEach((e,t)=>{console.log(t),e.addEventListener("change",t=>{t.preventDefault(),console.log(e),e.сlassName="personal-data__input",function(e){const t=e.value.trim();"phone-number"!=e.id?""===t?v(e):f(e):(o=t,/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(o)?f(e):v(e));var o}(e)})})}));const swiper=new Swiper(".mySwiper",{pagination:{el:".swiper-pagination",type:"fraction"},width:290,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{380:{width:320},580:{width:450},1480:{width:580}}});