function popup(){const e=document.querySelectorAll(".leave-request"),t=document.querySelectorAll(".popup__block"),o=document.querySelectorAll(".popup__close"),l=document.querySelectorAll(".popup");let n=document.querySelector(".fp-right");window.onclick=function(e){l.forEach((o,c)=>{if(e.target==o){n&&(fullpage_api.setAllowScrolling(!0),n.classList.remove("dsp-n")),t.forEach((e,t)=>{e.classList.remove("popup__block--open"),l[t].classList.remove("popup--open")});const e=document.body,o=e.style.top;e.style.top="",e.classList.remove("stop-scroll"),window.scrollTo(0,-1*parseInt(o||"0"))}})},e.forEach((e,o)=>{e.addEventListener("click",()=>{n&&(fullpage_api.setAllowScrolling(!1),n.classList.add("dsp-n")),t.forEach((e,t)=>{e.classList.add("popup__block--open"),l[t].classList.add("popup--open")});const e=document.documentElement.style.getPropertyValue("--scroll-y"),o=document.body;console.dir(o),o.style.top="-"+e,o.classList.add("stop-scroll")})}),o.forEach((e,o)=>{e.addEventListener("click",()=>{n&&(fullpage_api.setAllowScrolling(!0),n.classList.remove("dsp-n")),t.forEach((e,t)=>{e.classList.remove("popup__block--open"),l[t].classList.remove("popup--open")});const e=document.body,o=e.style.top;e.style.top="",e.classList.remove("stop-scroll"),window.scrollTo(0,-1*parseInt(o||"0"))})}),window.addEventListener("scroll",()=>{document.documentElement.style.setProperty("--scroll-y",window.scrollY+"px")})}function swipersInit(){const e=new Swiper(".mySwiper",{pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),t=new Swiper(".mySwiper-Regular",{pagination:{el:".swiper-pagination--regular",type:"fraction"},width:290,breakpoints:{380:{width:320},580:{width:450},1480:{width:945}}});function o(e,t,o){t&&(e.addEventListener("click",()=>{o.slideNext()}),t.addEventListener("click",()=>{o.slidePrev()}))}o(document.querySelector(".review-next--regular"),document.querySelector(".review-prev--regular"),t),o(document.querySelector(".review-next"),document.querySelector(".review-prev"),e)}function dualSwitcher(e){if(e){let t=e.querySelectorAll(".product-selector__item"),o=e.querySelectorAll(".description-item");t.forEach((e,l)=>{e.addEventListener("click",()=>{t.forEach((e,t)=>{e.classList.remove("list-item--active")}),e.classList.add("list-item--active"),o.forEach(e=>{e.classList.remove("show")}),o[l].classList.add("show")})})}}function handleTabletChange(e){if(window.matchMedia("(min-width: 1230px)").matches){let e=document.querySelector(".fp-right");if(e){pageUpbutt.className="page-up",pageUpbutt.innerHTML="НАВЕРХ";let t=document.createElement("div");t.className="pagination-page",t.innerHTML='<span class="pagination-page--active">1</span><span class=pagination-page--all>/9</span> ',e.append(t),e.append(pageUpbutt),document.querySelector(".page-up").addEventListener("click",(function(e){fullpage_api.moveTo(1)}))}}}document.addEventListener("DOMContentLoaded",(function(){dualSwitcher(document.querySelector(".cranes")),dualSwitcher(document.querySelector(".services")),swipersInit(),handleTabletChange(),popup()}));