document.addEventListener("DOMContentLoaded",(function(){const e=window.matchMedia("(min-width: 1230px)");function t(e){if(e.matches){console.log("Media Query Matched!"),document.querySelectorAll(".header").forEach((e,t)=>{0!=t&&(e.style.display="flex",console.log("hello"))}),new fullpage("#fullpage",{navigation:!0,navigationPosition:"right",autoScrolling:!0,scrollOverflow:!0,fitToSection:!0,touchSensitivity:100,bigSectionsDestination:"top"});let e=document.querySelector(".fp-right"),t=document.createElement("button");t.className="page-up",t.innerHTML="НАВЕРХ";let o=document.createElement("div");o.className="pagination-page",o.innerHTML='<span class="pagination-page--active">1</span><span class=pagination-page--all>/9</span> ',e.append(o),e.append(t);document.querySelector(".page-up").addEventListener("click",(function(e){fullpage_api.moveTo(1)}));let n=document.querySelectorAll(".section"),s=document.querySelector(".pagination-page--active");document.body.addEventListener("wheel",(function(e){n.forEach((e,t)=>{e.classList.contains("active")&&(s.innerHTML=fullpage_api.getActiveSection().index+1)})}));document.querySelectorAll(".fp-sr-only");let l=fullpage_api.getActiveSection().index;console.log(l),document.querySelector(".fp-right").addEventListener("click",(function(e){s.innerHTML=fullpage_api.getActiveSection().index+1}))}}e.addListener(t),t(e);const o=window.matchMedia("(max-width: 1230px)");function n(e){if(e.matches){console.log("Media Query Matched!"),document.querySelectorAll(".header").forEach((e,t)=>{0!=t&&(e.style.display="none",console.log("hello"))}),fullpage_api.destroy("all")}}o.addListener(n),n(o);const s=document.getElementById("leave-request"),l=document.querySelector(".popup__block"),c=document.querySelector(".popup__close"),i=document.querySelector(".popup");document.body;window.onclick=function(e){if(e.target==i){console.log(i),l.classList.remove("popup__block--open"),i.classList.remove("popup--open");const e=document.body,t=e.style.top;e.style.top="",e.classList.remove("stop-scroll"),window.scrollTo(0,-1*parseInt(t||"0"))}},s.addEventListener("click",()=>{l.classList.add("popup__block--open"),i.classList.add("popup--open");const e=document.documentElement.style.getPropertyValue("--scroll-y"),t=document.body;t.style.top="-"+e,t.classList.add("stop-scroll"),c.addEventListener("click",()=>{l.classList.remove("popup__block--open"),i.classList.remove("popup--open");const e=document.body,t=e.style.top;e.style.top="",e.classList.remove("stop-scroll"),window.scrollTo(0,-1*parseInt(t||"0"))})}),window.addEventListener("scroll",()=>{document.documentElement.style.setProperty("--scroll-y",window.scrollY+"px")});let a=document.querySelectorAll(".list-item"),r=document.querySelectorAll(".description-item");a.forEach((e,t)=>{e.addEventListener("click",()=>{r.forEach((e,t)=>{e.classList.remove("dsp-f")}),r[t].classList.add("dsp-f")})});let d=document.querySelector(".review-next"),p=document.querySelector(".review-prev");d.addEventListener("click",()=>{swiper.slideNext()}),p.addEventListener("click",()=>{swiper.slidePrev()});const u=document.querySelectorAll(".personal-data__input");document.getElementById("user-name"),document.getElementById("phone-number"),document.getElementById("street"),document.getElementById("home"),document.getElementById("apartment");function m(e){e.classList.contains("personal-data__input-succsess")&&e.classList.remove("personal-data__input-succsess"),e.classList.add("personal-data__input-error")}function y(e){e.classList.contains("personal-data__input-error")&&e.classList.remove("personal-data__input-error"),e.classList.add("personal-data__input-succsess")}u.forEach((e,t)=>{console.log(t),e.addEventListener("change",t=>{t.preventDefault(),console.log(e),e.сlassName="personal-data__input",function(e){const t=e.value.trim();"phone-number"!=e.id?""===t?m(e):y(e):(o=t,/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(o)?y(e):m(e));var o}(e)})})}));const swiper=new Swiper(".mySwiper",{pagination:{el:".swiper-pagination",type:"fraction"},width:290,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{380:{width:320},580:{width:450},1480:{width:580}}});